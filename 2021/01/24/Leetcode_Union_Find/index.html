<!DOCTYPE html><html lang="en"><!-- Head tag --><head>

    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="Nothing forever">
    

    <!--Author-->
    
        <meta name="author" content="Yihang Li">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Leetcode with Union Find">
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="Nothing forever">
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Yihang">

    <!--Type page-->
    
        <meta property="og:type" content="article">
    

    <!--Page Cover-->
    

    
        <meta name="twitter:card" content="summary">
    
    
    

    <!-- Title -->
    
    <title>Leetcode with Union Find - Yihang</title>

    <!-- Bootstrap Core CSS -->
    

    <!-- Custom Fonts -->
    

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    

    <!-- Custom CSS -->
    



    <!-- Google Analytics -->
    


<!-- hexo injector head_end start -->



<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="Yihang" type="application/atom+xml"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
<script>function loadCss(l){var d=document,h=d.head,s=d.createElement('link');s.rel='stylesheet';s.href=l;!function e(f){if (d.body)return f();setTimeout(function(){e(f)})}(function(){h.appendChild(s);});}loadCss('/style.css');loadCss('//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css');loadCss('//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css');loadCss('//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css');loadCss('https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css');loadCss('https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css');</script><noscript><link rel="stylesheet" href="/style.css"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"></noscript></head>


<body>

<!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about.html">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    Tags
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    Categories
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact.html">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
    </div>
</header>

        <section class="main">
            
<div class="post">

    <div class="post-header">
        <h1 class="title">
            <a href="/2021/01/24/Leetcode_Union_Find/">
                Leetcode with Union Find
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2021-01-24</span>
            
            
            
                <span class="category">
                    <a href="/categories/Leetcode/">Leetcode</a>
                </span>
            
        </div>
    </div>

    <div class="content">

        <!-- Gallery -->
        

        <!-- Post Content -->
        <h2 id="å¹¶æŸ¥é›†ç®—æ³•"><a href="#å¹¶æŸ¥é›†ç®—æ³•" class="headerlink" title="å¹¶æŸ¥é›†ç®—æ³•"></a>å¹¶æŸ¥é›†ç®—æ³•</h2><ul>
<li>[X] åŠ¨æ‰‹ä½¿ç”¨pythonå®ç°<code>å¹¶æŸ¥é›†</code>4ä¸ªç‰ˆæœ¬ğŸš€ï¸</li>
<li>[ ] åº”ç”¨åˆ·é¢˜ï¼ğŸ‰ï¸ï¼šåˆ·å®Œ<a target="_blank" rel="noopener" href="https://leetcode-cn.com/tag/union-find/">å¹¶æŸ¥é›†tag</a>å†å‹¾ï¼ˆ7/39ï¼‰</li>
</ul>
<a id="more"></a>
<h3 id="åŠ¨æ‰‹å®ç°"><a href="#åŠ¨æ‰‹å®ç°" class="headerlink" title="åŠ¨æ‰‹å®ç°"></a>åŠ¨æ‰‹å®ç°</h3><h4 id="API"><a href="#API" class="headerlink" title="API"></a>API</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Union_Find</span>():</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, n</span>):</span></span><br><span class="line">		<span class="string">"""Initialize a list of length n: n nodes as index and root as value,</span></span><br><span class="line"><span class="string">		count: the number of disjoint set"""</span></span><br><span class="line">		<span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">is_connected</span>(<span class="params">self, p: <span class="built_in">int</span>, q: <span class="built_in">int</span></span>)-&gt;bool:</span></span><br><span class="line">    <span class="string">"""decide if p and q are in the same disjoint set """</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">union</span>(<span class="params">self, p: <span class="built_in">int</span>, q: <span class="built_in">int</span></span>):</span></span><br><span class="line">		<span class="string">"""connect node p and node q """</span></span><br><span class="line">		<span class="keyword">pass</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">find</span>(<span class="params">self, p:<span class="built_in">int</span></span>)-&gt;int:</span></span><br><span class="line">		<span class="string">"""find the root of p"""</span></span><br><span class="line">		<span class="keyword">pass</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h4 id="First-Version-quick-find"><a href="#First-Version-quick-find" class="headerlink" title="First Version: quick-find"></a>First Version: quick-find</h4><blockquote>
<p>uf åˆå§‹åŒ–ä¸ºindexï¼šç»“ç‚¹ï¼Œ valueï¼š ç»“ç‚¹è‡ªèº«</p>
<p>if uf[p] == uf[q]: p, q åœ¨åŒä¸€ä¸ªè¿é€šåˆ†é‡</p>
</blockquote>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># quick-find</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Union_Find</span>():</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, n: <span class="built_in">int</span></span>):</span></span><br><span class="line">		<span class="string">"""Initialize a list: Nodes as index and root as value,</span></span><br><span class="line"><span class="string">		count: the number of disjoint set, """</span></span><br><span class="line">		self.<span class="built_in">len</span> = n</span><br><span class="line">		self.uf = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.<span class="built_in">len</span>)]</span><br><span class="line">		self.count = n</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">find</span>(<span class="params">self, p:<span class="built_in">int</span></span>)-&gt;int:</span></span><br><span class="line">		<span class="string">"""find the root of p"""</span></span><br><span class="line">		<span class="keyword">return</span> self.uf[p]</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">is_connected</span>(<span class="params">self, p: <span class="built_in">int</span>, q: <span class="built_in">int</span></span>)-&gt;bool:</span></span><br><span class="line">		<span class="string">"""decide if p and q are in the same disjoint set """</span></span><br><span class="line">		<span class="keyword">return</span> self.find(p) == self.find(q)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">union</span>(<span class="params">self, p: <span class="built_in">int</span>, q: <span class="built_in">int</span></span>):</span></span><br><span class="line">		<span class="string">"""connect node p and node q """</span></span><br><span class="line">		<span class="keyword">if</span> self.is_connected(p, q): <span class="keyword">return</span></span><br><span class="line">		p_root, q_root = self.find(p), self.find(q)</span><br><span class="line">		<span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.<span class="built_in">len</span>):</span><br><span class="line">			<span class="keyword">if</span> self.find(i) == p_root:</span><br><span class="line">				self.uf[i] = q_root</span><br><span class="line">		self.count -= <span class="number">1</span></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>ç®—æ³•åˆ†æï¼šfind() æ“ä½œé€Ÿåº¦å¾ˆå¿«ï¼Œä½†æ˜¯å¯¹äºæ¯ä¸€å¯¹éœ€è¦è¿æ¥çš„è¾“å…¥ï¼Œunion() éƒ½éœ€è¦æ‰«ææ•´ä¸ª uf æ•°ç»„</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quick-find ç®—æ³•ä¸€èˆ¬ä¸èƒ½å¤„ç†å¤§å‹é—®é¢˜</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; quick-find ï½</span><br></pre></td></tr></tbody></table></figure>
<p>$O(n^2)$</p>
</blockquote>
<h4 id="Second-Version-quick-union"><a href="#Second-Version-quick-union" class="headerlink" title="Second Version: quick-union"></a>Second Version: quick-union</h4><blockquote>
<p>uf ç”¨çˆ¶é“¾æ¥çš„å½¢å¼è¡¨ç¤ºäº†ä¸€ç‰‡æ£®æ—ï¼ˆæ¯ä¸ªçˆ¶é“¾æ¥å¯¹åº”ä¸€æ£µæ ‘ï¼Œæ—¢ä¸€ä¸ªè¿é€šåˆ†é‡ï¼‰</p>
<p>æ•°ç»„uf ä¸­å…ƒç´ éƒ½æ˜¯åŒä¸€ä¸ªè¿é€šåˆ†é‡ä¸­å¦ä¸€ä¸ªç»“ç‚¹çš„åç§°ï¼Œå½“ä¸ºå®ƒè‡ªèº«æ—¶è¡¨ç¤ºå…¶ä¸ºè¯¥è¿é€šåˆ†é‡ä¸­çš„æ ¹ç»“ç‚¹</p>
<p>ç”±ç»“ç‚¹p, q çš„é“¾æ¥åˆ†åˆ«æ‰¾åˆ°å®ƒä»¬çš„æ ¹ç»“ç‚¹ï¼Œ ç„¶åå°†ä¸€ä¸ªæ ¹ç»“ç‚¹é“¾æ¥åˆ°å¦ä¸€ä¸ªå³å¯è¿é€šä¸¤ä¸ªè¿é€šåˆ†é‡</p>
</blockquote>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># quick-union</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Union_Find</span>():</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, n: <span class="built_in">int</span></span>):</span></span><br><span class="line">		<span class="string">"""Initialize a list: Nodes as index and root as value,</span></span><br><span class="line"><span class="string">		count: the number of disjoint set, """</span></span><br><span class="line">		self.<span class="built_in">len</span> = n</span><br><span class="line">		self.uf = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.<span class="built_in">len</span>)]</span><br><span class="line">		self.count = n</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">find</span>(<span class="params">self, p:<span class="built_in">int</span></span>)-&gt;int:</span></span><br><span class="line">		<span class="string">"""find the root of p"""</span></span><br><span class="line">		<span class="keyword">while</span> self.uf[p] != p: p = self.uf[p]</span><br><span class="line">		<span class="keyword">return</span> p</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">is_connected</span>(<span class="params">self, p: <span class="built_in">int</span>, q: <span class="built_in">int</span></span>)-&gt;bool:</span></span><br><span class="line">		<span class="string">"""decide if p and q are in the same disjoint set """</span></span><br><span class="line">		<span class="keyword">return</span> self.find(p) == self.find(q)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">union</span>(<span class="params">self, p: <span class="built_in">int</span>, q: <span class="built_in">int</span></span>):</span></span><br><span class="line">		<span class="string">"""connect node p and node q """</span></span><br><span class="line">		p_root, q_root = self.find(p), self.find(q)</span><br><span class="line">		<span class="keyword">if</span> p_root == q_root: <span class="keyword">return</span></span><br><span class="line">		self.uf[p_root] = q_root</span><br><span class="line">		self.count -= <span class="number">1</span></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>ç®—æ³•åˆ†æï¼š æœ€å¥½æƒ…å†µï½$O(n)$, æœ€å·®æƒ…å†µ~$O(n^2)$</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quick-find çš„æ”¹è¿›ï¼Œè§£å†³äº†å…¶æœ€ä¸»è¦çš„é—®é¢˜ï¼šä½¿å¾—unionçš„æ“ä½œå˜æˆäº†çº¿æ€§</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä¸èƒ½ä¿è¯æ‰€æœ‰æƒ…å†µä¸‹å®ƒéƒ½æ¯”quick-findå¿«</span><br></pre></td></tr></tbody></table></figure>
<h4 id="Third-Version-weighted-quick-union"><a href="#Third-Version-weighted-quick-union" class="headerlink" title="Third Version: weighted-quick-union"></a>Third Version: weighted-quick-union</h4><p>è®°å½•æ¯ä¸€æ£µæ ‘ğŸŒ²çš„å¤§å°ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„weightï¼‰ï¼Œåœ¨unionåˆå¹¶æ“ä½œçš„æ—¶å€™æ€»æ˜¯å°†å°æ ‘é“¾æ¥åˆ°å¤§æ ‘ä¸Š</p>
<p>ç©ºé—´æ¢æ—¶é—´</p>
</blockquote>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># weighted-quick-union</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Union_Find</span>():</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, n: <span class="built_in">int</span></span>):</span></span><br><span class="line">		<span class="string">"""Initialize a list: Nodes as index and root as value,</span></span><br><span class="line"><span class="string">		count: the number of disjoint set, """</span></span><br><span class="line">		self.<span class="built_in">len</span> = n</span><br><span class="line">		self.uf = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.<span class="built_in">len</span>)]</span><br><span class="line">		self.count = n</span><br><span class="line">		self.size = [<span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.<span class="built_in">len</span>)]</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">find</span>(<span class="params">self, p:<span class="built_in">int</span></span>)-&gt;int:</span></span><br><span class="line">		<span class="string">"""find the root of p"""</span></span><br><span class="line">		<span class="keyword">while</span> self.uf[p] != p: p = self.uf[p]</span><br><span class="line">		<span class="keyword">return</span> p</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">is_connected</span>(<span class="params">self, p: <span class="built_in">int</span>, q: <span class="built_in">int</span></span>)-&gt;bool:</span></span><br><span class="line">		<span class="string">"""decide if p and q are in the same disjoint set """</span></span><br><span class="line">		<span class="keyword">return</span> self.find(p) == self.find(q)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">union</span>(<span class="params">self, p: <span class="built_in">int</span>, q: <span class="built_in">int</span></span>):</span></span><br><span class="line">		<span class="string">"""connect node p and node q """</span></span><br><span class="line">		p_root, q_root = self.find(p), self.find(q)</span><br><span class="line">		<span class="keyword">if</span> p_root == q_root: <span class="keyword">return</span></span><br><span class="line">		<span class="keyword">if</span> self.size[p_root] &lt; self.size[q_root]:</span><br><span class="line">			self.uf[p_root] = q_root</span><br><span class="line">			self.size[q_root] += self.size[p_root]</span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			self.uf[q_root] = p_root</span><br><span class="line">			self.size[p_root] += self.size[q_root]</span><br><span class="line">		self.count -= <span class="number">1</span></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>ç®—æ³•åˆ†æï¼š weighted-quick-union ~ $O(log(n))$</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; è¿™ä¸‰ç§ç®—æ³•ä¸­å”¯ä¸€èƒ½ç”¨äºè§£å†³å¤§å‹å®é™…é—®é¢˜çš„ç®—æ³•ğŸ‰</span><br></pre></td></tr></tbody></table></figure>
<h4 id="Optimal-Version-weighted-quick-union-with-path-compression"><a href="#Optimal-Version-weighted-quick-union-with-path-compression" class="headerlink" title="Optimal Version: weighted-quick-union with path compression"></a>Optimal Version: weighted-quick-union with path compression</h4><p>å¸Œæœ›æ¯ä¸ªç»“ç‚¹éƒ½ç›´æ¥é“¾æ¥åˆ°å®ƒçš„æ ¹ç»“ç‚¹ä¸Šï¼Œä½†åˆä¸æƒ³åƒquick-findé‚£æ ·åœ¨unionä¸­é€šè¿‡forå¾ªç¯ä¿®æ”¹æ‰€æœ‰ç»“ç‚¹é“¾æ¥â€”â€”&gt;è·¯å¾„å‹ç¼©</p>
<p>åœ¨findç»“ç‚¹çš„åŒæ—¶å°†å®ƒä»¬é“¾æ¥åˆ°æ ¹ç»“ç‚¹ï¼šä¸ºfindæ·»åŠ ä¸€ä¸ªå¾ªç¯å°†åœ¨è·¯å¾„ä¸Šé‡åˆ°çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½ç›´æ¥é“¾æ¥åˆ°æ ¹ç»“ç‚¹</p>
<p>å¾—åˆ°å‡ ä¹å®Œå…¨æ‰å¹³åŒ–çš„æ ‘ğŸŒ²</p>
</blockquote>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># weighted-quick-union</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Union_Find</span>():</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, n: <span class="built_in">int</span></span>):</span></span><br><span class="line">		<span class="string">"""Initialize a list: Nodes as index and root as value,</span></span><br><span class="line"><span class="string">		count: the number of disjoint set, """</span></span><br><span class="line">		self.<span class="built_in">len</span> = n</span><br><span class="line">		self.uf = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.<span class="built_in">len</span>)]</span><br><span class="line">		self.count = n</span><br><span class="line">		self.size = [<span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.<span class="built_in">len</span>)]</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">find</span>(<span class="params">self, p:<span class="built_in">int</span></span>)-&gt;int:</span></span><br><span class="line">		<span class="string">"""find the root of p"""</span></span><br><span class="line">		res = p</span><br><span class="line">		<span class="keyword">while</span> self.uf[res] != res: res = self.uf[res]</span><br><span class="line">		<span class="keyword">while</span> self.uf[p] != p: p, self.uf[p] = self.uf[p], res</span><br><span class="line">		<span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">is_connected</span>(<span class="params">self, p: <span class="built_in">int</span>, q: <span class="built_in">int</span></span>)-&gt;bool:</span></span><br><span class="line">		<span class="string">"""decide if p and q are in the same disjoint set """</span></span><br><span class="line">		<span class="keyword">return</span> self.find(p) == self.find(q)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">union</span>(<span class="params">self, p: <span class="built_in">int</span>, q: <span class="built_in">int</span></span>):</span></span><br><span class="line">		<span class="string">"""connect node p and node q """</span></span><br><span class="line">		p_root, q_root = self.find(p), self.find(q)</span><br><span class="line">		<span class="keyword">if</span> p_root == q_root: <span class="keyword">return</span></span><br><span class="line">		<span class="keyword">if</span> self.size[p_root] &lt; self.size[q_root]:</span><br><span class="line">			self.uf[p_root] = q_root</span><br><span class="line">			self.size[q_root] += self.size[p_root]</span><br><span class="line">		<span class="keyword">else</span>:</span><br><span class="line">			self.uf[q_root] = p_root</span><br><span class="line">			self.size[p_root] += self.size[q_root]</span><br><span class="line">		self.count -= <span class="number">1</span></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>ç®—æ³•åˆ†æï¼šweighted-quick-union with path compression æ˜¯è¿™å››è€…ä¸­æœ€ä¼˜çš„ç®—æ³•</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä½†å¹¶éæ‰€æœ‰æ“ä½œéƒ½èƒ½åœ¨å¸¸æ•°æ—¶é—´å†…å®Œæˆ</span><br></pre></td></tr></tbody></table></figure>
<h3 id="åº”ç”¨åˆ·é¢˜"><a href="#åº”ç”¨åˆ·é¢˜" class="headerlink" title="åº”ç”¨åˆ·é¢˜"></a>åº”ç”¨åˆ·é¢˜</h3></blockquote>
<ul>
<li>[X] <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/number-of-operations-to-make-network-connected/">1319</a></li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">makeConnected</span>(<span class="params">self, n: <span class="built_in">int</span>, connections: List[List[<span class="built_in">int</span>]]</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(connections) &lt; n - <span class="number">1</span>: <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        uf = Union_Find(n)</span><br><span class="line">        edges = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i, j <span class="keyword">in</span> connections:</span><br><span class="line">            <span class="keyword">if</span> uf.is_connected(i, j):</span><br><span class="line">                edges += <span class="number">1</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            uf.union(i, j)</span><br><span class="line">        <span class="keyword">if</span> edges &gt;= uf.count - <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> uf.count - <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>[X] <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/number-of-provinces/">547</a></li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findCircleNum</span>(<span class="params">self, isConnected: List[List[<span class="built_in">int</span>]]</span>) -&gt; int:</span></span><br><span class="line">        n = <span class="built_in">len</span>(isConnected)</span><br><span class="line">        uf = Union_Find(n)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n-<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i+<span class="number">1</span>, n):</span><br><span class="line">                <span class="keyword">if</span> isConnected[i][j]:</span><br><span class="line">                    uf.union(i, j)</span><br><span class="line">        <span class="keyword">return</span> uf.count</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>[X] <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/swim-in-rising-water/">778</a></li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">swimInWater</span>(<span class="params">self, grid: List[List[<span class="built_in">int</span>]]</span>) -&gt; int:</span></span><br><span class="line">        n = <span class="built_in">len</span>(grid)</span><br><span class="line">        uf = Union_Find(n*n)</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">height_t</span>(<span class="params">t</span>):</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                    <span class="keyword">if</span> grid[i][j] == t:</span><br><span class="line">                        <span class="keyword">return</span> i, j</span><br><span class="line">                    j += <span class="number">1</span></span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n*n):</span><br><span class="line">            i, j = height_t(t)</span><br><span class="line">            <span class="keyword">if</span> i-<span class="number">1</span> &gt;= <span class="number">0</span> <span class="keyword">and</span> grid[i-<span class="number">1</span>][j] &lt;= t:</span><br><span class="line">                uf.union(grid[i][j], grid[i-<span class="number">1</span>][j])</span><br><span class="line">            <span class="keyword">if</span> i+<span class="number">1</span> &lt; n <span class="keyword">and</span> grid[i+<span class="number">1</span>][j] &lt;= t:</span><br><span class="line">                uf.union(grid[i][j], grid[i+<span class="number">1</span>][j])</span><br><span class="line">            <span class="keyword">if</span> j-<span class="number">1</span> &gt;= <span class="number">0</span> <span class="keyword">and</span> grid[i][j-<span class="number">1</span>] &lt;= t:</span><br><span class="line">                uf.union(grid[i][j], grid[i][j-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">if</span> j+<span class="number">1</span> &lt; n <span class="keyword">and</span> grid[i][j+<span class="number">1</span>] &lt;= t:</span><br><span class="line">                uf.union(grid[i][j], grid[i][j+<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">if</span> uf.is_connected(grid[<span class="number">0</span>][<span class="number">0</span>], grid[n-<span class="number">1</span>][n-<span class="number">1</span>]):</span><br><span class="line">                <span class="keyword">return</span> t</span><br><span class="line">        <span class="keyword">return</span> t</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>[X] <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/satisfiability-of-equality-equations/">990</a></li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">equationsPossible</span>(<span class="params">self, equations: List[<span class="built_in">str</span>]</span>) -&gt; bool:</span></span><br><span class="line"></span><br><span class="line">        alpha_set = <span class="built_in">set</span>()</span><br><span class="line">        alpha_dict = <span class="built_in">dict</span>()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> equation <span class="keyword">in</span> equations:</span><br><span class="line">            alpha_set.add(equation[<span class="number">0</span>])</span><br><span class="line">            alpha_set.add(equation[<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">        n = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> alpha_set:</span><br><span class="line">            alpha_dict[i] = n</span><br><span class="line">            n += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        uf = Union_Find(n)</span><br><span class="line"></span><br><span class="line">        equations.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> equation <span class="keyword">in</span> equations:</span><br><span class="line">            <span class="keyword">if</span> equation[<span class="number">1</span>] == <span class="string">'='</span>:</span><br><span class="line">                uf.union(alpha_dict[equation[<span class="number">0</span>]], alpha_dict[equation[<span class="number">3</span>]])</span><br><span class="line">            <span class="keyword">elif</span> uf.is_connected(alpha_dict[equation[<span class="number">0</span>]], alpha_dict[equation[<span class="number">3</span>]]):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>[X] <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/longest-continuous-increasing-subsequence/">674</a> &gt; è¿™é¢˜èƒ½ç”¨å¹¶æŸ¥é›†æ˜¯æˆ‘æ²¡æƒ³åˆ°çš„</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findLengthOfLCIS</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        n = <span class="built_in">len</span>(nums)</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        uf = Union_Find(n)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n-<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> nums[i] &lt; nums[i+<span class="number">1</span>]:</span><br><span class="line">                uf.union(i, i+<span class="number">1</span>) <span class="comment">##</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(uf.size)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>[X] <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/regions-cut-by-slashes/">959</a></li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">regionsBySlashes</span>(<span class="params">self, grid: List[<span class="built_in">str</span>]</span>) -&gt; int:</span></span><br><span class="line">        N = <span class="built_in">len</span>(grid)</span><br><span class="line">        n = N**<span class="number">2</span> * <span class="number">4</span></span><br><span class="line">        uf = Union_Find(n)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(N):</span><br><span class="line">            ith_row = grid[i]</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(N):</span><br><span class="line">                index = <span class="number">4</span> * (i * N + j) <span class="comment">### index</span></span><br><span class="line">                c = ith_row[j]</span><br><span class="line">                <span class="comment">#å•å…ƒæ ¼å†…åˆå¹¶</span></span><br><span class="line">                <span class="keyword">if</span> c == <span class="string">' '</span>:</span><br><span class="line">                    uf.union(index, index+<span class="number">1</span>)</span><br><span class="line">                    uf.union(index+<span class="number">1</span>, index+<span class="number">2</span>)</span><br><span class="line">                    uf.union(index+<span class="number">2</span>, index+<span class="number">3</span>)</span><br><span class="line">                <span class="keyword">elif</span> c == <span class="string">'/'</span>:</span><br><span class="line">                    uf.union(index, index+<span class="number">3</span>)</span><br><span class="line">                    uf.union(index+<span class="number">1</span>, index+<span class="number">2</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    uf.union(index, index+<span class="number">1</span>)</span><br><span class="line">                    uf.union(index+<span class="number">2</span>, index+<span class="number">3</span>)</span><br><span class="line">                <span class="comment"># #å•å…ƒæ ¼é—´åˆå¹¶</span></span><br><span class="line">                <span class="comment"># if j &lt; N - 1: #right-bound</span></span><br><span class="line">                <span class="comment">#     uf.union(index+1, index+7)</span></span><br><span class="line">                <span class="comment"># if i &lt; N - 1: #lower-bound</span></span><br><span class="line">                <span class="comment">#     uf.union(index+2, 4*((i+1)*N)+j)</span></span><br><span class="line">                <span class="comment">#æ¢ä¸€ç§å•å…ƒæ ¼é—´åˆå¹¶è¯•è¯•</span></span><br><span class="line">                <span class="keyword">if</span> i &gt; <span class="number">0</span>: uf.union(index, <span class="number">4</span>*((i-<span class="number">1</span>)*N + j)+<span class="number">2</span>)</span><br><span class="line">                <span class="keyword">if</span> j &gt; <span class="number">0</span>: uf.union(index+<span class="number">3</span>, <span class="number">4</span>*(i*N+j-<span class="number">1</span>)+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> uf.count</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>ä¸ºä»€ä¹ˆå‘å³å‘ä¸‹åˆå¹¶ä¸å¯¹ï¼Œå‘ä¸Šå‘å·¦åˆå¹¶å°±å¯¹äº†å‘¢ï¼Ÿ</p>
</blockquote>
<ul>
<li>[X] <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/number-of-islands/">200</a></li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numIslands</span>(<span class="params">self, grid: List[List[<span class="built_in">str</span>]]</span>) -&gt; int:</span></span><br><span class="line">        row, col = <span class="built_in">len</span>(grid), <span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        count_1, count_0 = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(row):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(col):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j] == <span class="string">"0"</span>: count_0 += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>: count_1 += <span class="number">1</span></span><br><span class="line">        uf = Union_Find(row*col)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(row):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(col):</span><br><span class="line">                index = i*col+j</span><br><span class="line">                <span class="keyword">if</span> grid[i][j] == <span class="string">"1"</span>:</span><br><span class="line">                    <span class="comment">#ä¸Š</span></span><br><span class="line">                    <span class="keyword">if</span> i &gt; <span class="number">0</span> <span class="keyword">and</span> grid[i-<span class="number">1</span>][j] == <span class="string">"1"</span>: uf.union(index, (i-<span class="number">1</span>)*col+j)</span><br><span class="line">                    <span class="comment">#å·¦</span></span><br><span class="line">                    <span class="keyword">if</span> j &gt; <span class="number">0</span> <span class="keyword">and</span> grid[i][j-<span class="number">1</span>] == <span class="string">"1"</span>: uf.union(index, index-<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> uf.count - count_0</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>[X] <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/redundant-connection/">684</a></li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findRedundantConnection</span>(<span class="params">self, edges: List[List[<span class="built_in">int</span>]]</span>) -&gt; List[int]:</span></span><br><span class="line">        n = <span class="built_in">len</span>(edges)</span><br><span class="line">        uf = Union_Find(n)</span><br><span class="line">        <span class="keyword">for</span> i, j <span class="keyword">in</span> edges:</span><br><span class="line">            <span class="keyword">if</span> uf.is_connected(i-<span class="number">1</span>, j-<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">return</span> [i, j]</span><br><span class="line">            uf.union(i-<span class="number">1</span>, j-<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> []</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>[X] <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/remove-max-number-of-edges-to-keep-graph-fully-traversable/">1579</a></li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxNumEdgesToRemove</span>(<span class="params">self, n: <span class="built_in">int</span>, edges: List[List[<span class="built_in">int</span>]]</span>) -&gt; int:</span></span><br><span class="line">        uf_Alice = Union_Find(n)</span><br><span class="line">        uf_Bob = Union_Find(n)</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        edge1, edge2, edge3 = [], [], []</span><br><span class="line">        <span class="keyword">for</span> edge <span class="keyword">in</span> edges:</span><br><span class="line">            <span class="keyword">if</span> edge[<span class="number">0</span>] == <span class="number">1</span>: edge1.append(edge[<span class="number">1</span>:])</span><br><span class="line">            <span class="keyword">elif</span> edge[<span class="number">0</span>] == <span class="number">2</span>: edge2.append(edge[<span class="number">1</span>:])</span><br><span class="line">            <span class="keyword">else</span>: edge3.append(edge[<span class="number">1</span>:])</span><br><span class="line"></span><br><span class="line">        <span class="comment">#å…ˆè¿æ¥å…¬å…±è¾¹</span></span><br><span class="line">        <span class="keyword">for</span> i, j <span class="keyword">in</span> edge3:</span><br><span class="line">            <span class="keyword">if</span> uf_Alice.is_connected(i-<span class="number">1</span>, j-<span class="number">1</span>):</span><br><span class="line">                res += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                uf_Alice.union(i-<span class="number">1</span>, j-<span class="number">1</span>)</span><br><span class="line">                uf_Bob.union(i-<span class="number">1</span>, j-<span class="number">1</span>)</span><br><span class="line">        <span class="comment">#å†è¿æ¥Alice</span></span><br><span class="line">        <span class="keyword">for</span> i, j <span class="keyword">in</span> edge1:</span><br><span class="line">            <span class="keyword">if</span> uf_Alice.is_connected(i-<span class="number">1</span>, j-<span class="number">1</span>):</span><br><span class="line">                res += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                uf_Alice.union(i-<span class="number">1</span>, j-<span class="number">1</span>)</span><br><span class="line">        <span class="comment">#å†è¿æ¥Bob</span></span><br><span class="line">        <span class="keyword">for</span> i, j <span class="keyword">in</span> edge2:</span><br><span class="line">            <span class="keyword">if</span> uf_Bob.is_connected(i-<span class="number">1</span>, j-<span class="number">1</span>):</span><br><span class="line">                res += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                uf_Bob.union(i-<span class="number">1</span>, j-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> uf_Alice.count == <span class="number">1</span> <span class="keyword">and</span> uf_Bob.count == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>[X] <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/path-with-minimum-effort/submissions/">1631</a></li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minimumEffortPath</span>(<span class="params">self, heights: List[List[<span class="built_in">int</span>]]</span>) -&gt; int:</span></span><br><span class="line">        row, col = <span class="built_in">len</span>(heights), <span class="built_in">len</span>(heights[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">if</span> row == <span class="number">1</span> <span class="keyword">and</span> col == <span class="number">1</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        weighted_edges = []</span><br><span class="line">        n = row*col</span><br><span class="line">        <span class="comment">#é€šè¿‡å¾€å·¦å¾€ä¸Šæ„é€ è¾¹</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(row):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(col):</span><br><span class="line">                index = i * col + j</span><br><span class="line">                <span class="keyword">if</span> i &gt; <span class="number">0</span>: weighted_edges.append((index - col, index, <span class="built_in">abs</span>(heights[i][j] - heights[i-<span class="number">1</span>][j])))</span><br><span class="line">                <span class="keyword">if</span> j &gt; <span class="number">0</span>: weighted_edges.append((index - <span class="number">1</span>, index, <span class="built_in">abs</span>(heights[i][j] - heights[i][j-<span class="number">1</span>])))</span><br><span class="line">        weighted_edges.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">2</span>])</span><br><span class="line">        uf = Union_Find(n)</span><br><span class="line">        <span class="keyword">for</span> i, j, w <span class="keyword">in</span> weighted_edges:</span><br><span class="line">            uf.union(i, j)</span><br><span class="line">            <span class="keyword">if</span> uf.is_connected(<span class="number">0</span>, row*col-<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">return</span> w</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>å°è¯•äº†æŠŠsortedç”¨æ”¹å†™çš„ä¸‰å…ƒç»„ç‰ˆæœ¬çš„ä¼˜å…ˆé˜Ÿåˆ—æ¥æ›¿ä»£ï¼Œä½†æ˜¯æ•ˆæœæ²¡æœ‰å†…ç½®å‡½æ•°sortæ¥å¾—å¥½å”‰</p>
<p>å¹¶æŸ¥é›†ç›¸å…³çš„é¢˜ç›®ä¸æ­¢æ˜¯å¹¶æŸ¥é›†è¿™ä¹ˆç®€å•ï¼Œå¹¶æŸ¥é›†åªæ˜¯å¯ä»¥ç”¨æ¥è¾…åŠ©çš„ä¸€ç§æ•°æ®ç»“æ„ï¼</p>
</blockquote>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&amp;mid=2247484751&amp;idx=1&amp;sn=a873c1f51d601bac17f5078c408cc3f6&amp;chksm=9bd7fb47aca07251dd9146e745b4cc5cfdbc527abe93767691732dfba166dfc02fbb7237ddbf&amp;scene=21#wechat_redirect">Union-Find å¹¶æŸ¥é›†ç®—æ³•è¯¦è§£</a></p>
</blockquote>
<ul>
<li>ä¸»è¦è§£å†³å›¾è®ºä¸­åŠ¨æ€è¿é€šæ€§é—®é¢˜</li>
<li>Key poits: <code>union</code> and <code>connected</code></li>
<li>å¹¶æŸ¥é›†ä¹Ÿè¢«ç§°ä¸ºä¸ç›¸äº¤é›†æ•°æ®ç»“æ„ã€‚é¡¾åæ€ä¹‰ï¼Œå¹¶æŸ¥é›†ä¸»è¦æ“ä½œæ˜¯åˆå¹¶ä¸æŸ¥è¯¢ï¼Œå®ƒæ˜¯æŠŠåˆå§‹ä¸ç›¸äº¤çš„é›†åˆç»è¿‡å¤šæ¬¡åˆå¹¶æ“ä½œååˆå¹¶ä¸ºä¸€ä¸ªå¤§é›†åˆï¼Œç„¶åå¯ä»¥é€šè¿‡æŸ¥è¯¢åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å·²ç»åœ¨åŒä¸€ä¸ªé›†åˆä¸­äº†ã€‚</li>
<li>å¹¶æŸ¥é›†çš„åº”ç”¨åœºæ™¯ä¸€èˆ¬å°±æ˜¯åŠ¨æ€è¿é€šæ€§çš„åˆ¤æ–­ï¼Œä¾‹å¦‚åˆ¤æ–­ç½‘ç»œä¸­çš„ä¸¤å°ç”µè„‘æ˜¯å¦è¿é€šï¼Œåœ¨ç¨‹åºä¸­åˆ¤æ–­ä¸¤ä¸ªå˜é‡åæ˜¯å¦æŒ‡å‘åŒä¸€å†…å­˜åœ°å€ç­‰ã€‚</li>
</ul>
<blockquote>
<p><strong><em><a target="_blank" rel="noopener" href="https://www.cnblogs.com/yscl/p/10185293.html">Python å®ç°å¹¶æŸ¥é›†</a></em></strong></p>
<p><strong><em><a target="_blank" rel="noopener" href="http://siliconraleigh.com/2018/01/18/Union-Find/">å¹¶æŸ¥é›†ä¸åˆå¹¶-æŸ¥æ‰¾ç®—æ³•çš„ Python å®ç°</a></em></strong></p>
<p>ç®—æ³•4â€”â€” 1.5 æ¡ˆä¾‹ç ”ç©¶ï¼šunion-find ç®—æ³•</p>
</blockquote>

    </div>

    

    
        <div class="post-tags">
            <i class="fa fa-tags" aria-hidden="true"></i>
            <a href="/tags/Leetcode/">#Leetcode</a> <a href="/tags/Union-Find/">#Union Find</a>
        </div>
    

    <!-- Comments -->
    

</div>
        </section>

    </div>
</div>


</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    This theme was developed by <a target="_blank" rel="noopener" href="https://github.com/klugjo">Jonathan Klughertz</a>. The source code is available on Github. Create Websites. Make Magic.
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2021/01/24/Leetcode_Union_Find/">Leetcode with Union Find</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2021/01/23/Leetcode_Graph/">Graph</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2021/01/22/MDS6222_Dynamic_Programming/">MDS6222 Dynamic Programmi</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2021/01/11/MDS6232_Deep_Learning_Notes/">MDS6232 Deep Learning Cou</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91/">æ–‡çŒ®ç¿»è¯‘</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Leetcode/">Leetcode</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Report/">Report</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Notes/">Notes</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://github.com/klugjo/hexo-theme-alpha-dust">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://twitter.com/?lang=en">
                            <span class="footer-icon-container">
                                <i class="fa fa-twitter"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://www.facebook.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-facebook"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://www.instagram.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-instagram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://dribbble.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-dribbble"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://telegram.org/">
                            <span class="footer-icon-container">
                                <i class="fa fa-telegram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://www.behance.net/">
                            <span class="footer-icon-container">
                                <i class="fa fa-behance"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://500px.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-500px"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:test@example.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design &amp; Hexo <a target="_blank" rel="noopener" href="http://www.codeblocq.com/">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->




<!-- Disqus Comments -->




<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->


<script src="/bundle.js"></script><script>
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script></body></html>